<mat-drawer-container>
  <mat-drawer mode="side" position="end" [opened]="(sidebarContext$ | async) !== null" class="mat-elevation-z3"> </mat-drawer>
  <mat-drawer-content>
    <app-credits />
    <app-geocoder />
    <div class="action-buttons noprint">
      <div class="vertical-stack">
        <button
          mat-icon-button
          [color]="(sidebarContext$ | async) === sidebarContext.Connections ? 'primary' : 'basic'"
          (click)="setSidebarContext(sidebarContext.Connections)"
          [attr.aria-label]="i18n.get('connections')"
        >
          <mat-icon *ngIf="isOnline | async" [matBadge]="connectionCount | async" matBadgePosition="after">people</mat-icon>
          <mat-icon *ngIf="!(isOnline | async)" [matBadge]="0" matBadgeColor="warn" matBadgePosition="after">cloud_off</mat-icon>
        </button>

        <button class="mat-elevation-z3" mat-icon-button (click)="zoomIn()" [attr.aria-label]="i18n.get('zoomIn')">
          <mat-icon>zoom_in</mat-icon>
        </button>
        <button class="mat-elevation-z3" mat-icon-button (click)="zoomOut()" [attr.aria-label]="i18n.get('zoomOut')">
          <mat-icon>zoom_out</mat-icon>
        </button>
        <button
          class="mat-elevation-z3"
          mat-icon-button
          [color]="(sidebarContext$ | async) === sidebarContext.Layers ? 'primary' : 'basic'"
          (click)="setSidebarContext(sidebarContext.Layers)"
          [attr.aria-label]="i18n.get('layers')"
        >
          <mat-icon>layers</mat-icon>
        </button>
        <button
          class="mat-elevation-z3"
          mat-icon-button
          [color]="(sidebarContext$ | async) === sidebarContext.Filters ? 'primary' : 'basic'"
          (click)="setSidebarContext(sidebarContext.Filters)"
          [attr.aria-label]="i18n.get('filters')"
        >
          <mat-icon>filter_alt</mat-icon>
        </button>

        <button
          class="mat-elevation-z3"
          mat-icon-button
          [color]="(sidebarContext$ | async) === sidebarContext.History ? 'primary' : 'basic'"
          (click)="setSidebarContext(sidebarContext.History)"
          [attr.aria-label]="i18n.get('history')"
          *ngIf="isReadOnly | async"
        >
          <mat-icon>history</mat-icon>
        </button>
        <button
          mat-icon-button
          *ngIf="(sidebarContext$ | async) !== null"
          (click)="setSidebarContext(null)"
          color="accent"
          [attr.aria-label]="i18n.get('close')"
        >
          <mat-icon>close</mat-icon>
        </button>
      </div>
      <div class="horizontal-stack">
        <app-coordinates />
        <app-fab-menu />
      </div>
    </div>
  </mat-drawer-content>
</mat-drawer-container>
